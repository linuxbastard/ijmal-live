<div
  data-section-id="{{ section.id }}"
  class="section social-icons"
>
  <div class="ph4 pv5 pv6-ns tc {% render 'section-style' with outlined: section.settings.outline %}">
    {%- if section.settings.title -%}
      <h2 class="type-heading-1 ma0 mb3">{{ section.settings.title }}</h2>
    {%- endif -%}

    <div class="social-icons__wrapper">

      {% for block in section.blocks %}
        {%- capture settings_id -%}social_{{ block.type }}_link{%- endcapture -%}

          {%- assign social_link = 'general.social.social_' | append: block.type | append: '_link' -%}

          {%- if block.settings.link != blank -%}
            <a href="{{ block.settings.link }}" aria-label="{{ social_link | t }}">
          {%- endif -%}

            <div class="social-icons__icon">
              {% render 'icon-social-list' with type: block.type %}
            </div>

          {%- if block.settings.link != blank -%}
            </a>
          {%- endif -%}
      {% endfor %}
    </div>
  </div>
</div>


{% schema %}
  {
    "name": "t:sections.social_icons.name",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "t:sections.social_icons.settings.title.label",
        "default": "Start the conversation"
      },
      {
        "type": "header",
        "content": "t:sections.social_icons.settings.style__header.content"
      },
      {
        "type": "checkbox",
        "id": "outline",
        "label": "t:sections.social_icons.settings.outline.label",
        "default": false
      }
    ],
    "blocks": [
      {
        "type": "facebook",
        "name": "t:sections.social_icons.blocks.facebook.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.facebook.settings.link.label",
            "info": "t:sections.social_icons.blocks.facebook.settings.link.info"
          }
        ]
      },
      {
        "type": "instagram",
        "name": "t:sections.social_icons.blocks.instagram.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.instagram.settings.link.label",
            "info": "t:sections.social_icons.blocks.instagram.settings.link.info"
          }
        ]
      },
      {
        "type": "linkedin",
        "name": "t:sections.social_icons.blocks.linkedin.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.linkedin.settings.link.label",
            "info": "t:sections.social_icons.blocks.linkedin.settings.link.info"
          }
        ]
      },
      {
        "type": "pinterest",
        "name": "t:sections.social_icons.blocks.pinterest.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.pinterest.settings.link.label",
            "info": "t:sections.social_icons.blocks.pinterest.settings.link.info"
          }
        ]
      },
      {
        "type": "snapchat",
        "name": "t:sections.social_icons.blocks.snapchat.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.snapchat.settings.link.label",
            "info": "t:sections.social_icons.blocks.snapchat.settings.link.info"
          }
        ]
      },
      {
        "type": "tiktok",
        "name": "t:sections.social_icons.blocks.tiktok.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.tiktok.settings.link.label",
            "info": "t:sections.social_icons.blocks.tiktok.settings.link.info"
          }
        ]
      },
      {
        "type": "tumblr",
        "name": "t:sections.social_icons.blocks.tumblr.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.tumblr.settings.link.label",
            "info": "t:sections.social_icons.blocks.tumblr.settings.link.info"
          }
        ]
      },
      {
        "type": "twitter",
        "name": "t:sections.social_icons.blocks.twitter.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.twitter.settings.link.label",
            "info": "t:sections.social_icons.blocks.twitter.settings.link.info"
          }
        ]
      },
      {
        "type": "vimeo",
        "name": "t:sections.social_icons.blocks.vimeo.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.vimeo.settings.link.label",
            "info": "t:sections.social_icons.blocks.vimeo.settings.link.info"
          }
        ]
      },
      {
        "type": "youtube",
        "name": "t:sections.social_icons.blocks.youtube.name",
        "limit": 1,
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.social_icons.blocks.youtube.settings.link.label",
            "info": "t:sections.social_icons.blocks.youtube.settings.link.info"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:sections.social_icons.presets.name",
        "blocks": [
          {
            "type": "facebook"
          },
          {
            "type": "instagram"
          },
          {
            "type": "twitter"
          }
        ]
      }
    ]
  }
{% endschema %}